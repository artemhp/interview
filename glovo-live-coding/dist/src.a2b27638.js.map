{"version":3,"sources":["src/api.js","src/render.js","src/index.js"],"names":["BASE_URL","getAllCharacters","page","response","fetch","json","getCharacter","id","renderCharacter","root","name","status","species","type","image","handleClick","card","createEl","attrs","class","onclick","currentTarget","img","src","appendChild","rightCol","header","text","info","renderNavigation","prev","next","wrapper","prevPage","style","visibility","nextPage","element","document","createElement","Object","entries","forEach","value","setAttribute","innerText","getElementById","url","URL","window","location","href","category","pathname","substring","split","initialPage","rerenderUI","renderList","history","pushState","then","results","innerHTML","console","log","character","target","el","background","catch","err","error"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["const BASE_URL = 'https://rickandmortyapi.com/api'\n\nexport async function getAllCharacters(page = 1) {\n  const response = await fetch(`${BASE_URL}/character?page=${page}`)\n  return response.json()\n}\n\nexport async function getCharacter(id) {\n  const response = await fetch(`${BASE_URL}/character/${id}`)\n  return response.json()\n}\n","export function renderCharacter(\n  root,\n  { id, name, status, species, type, image },\n  handleClick\n) {\n  const card = createEl('div', {\n    attrs: { 'data-id': `character-${id}`, class: 'character-card' }\n  })\n\n  card.onclick = ({ currentTarget }) => handleClick(id, currentTarget)\n\n  const img = createEl('img', {\n    attrs: { class: 'character-pic', src: image }\n  })\n  card.appendChild(img)\n\n  const rightCol = createEl('div')\n  card.appendChild(rightCol)\n\n  const header = createEl('h2', { text: name })\n  rightCol.appendChild(header)\n\n  const info = createEl('p', { text: `${species} | ${type} | ${status}` })\n  rightCol.appendChild(info)\n\n  root.appendChild(card)\n}\n\nexport function renderNavigation(root, page, info, prev, next) {\n  const wrapper = createEl('div', { attrs: { class: 'page-wrapper' } })\n\n  const prevPage = createEl('div', {\n    attrs: { class: 'page-prev' },\n    text: 'Prev Page'\n  })\n\n  if (!info.prev) {\n    prevPage.style.visibility = 'hidden'\n  }\n  prevPage.onclick = prev\n\n  const nextPage = createEl('div', {\n    attrs: { class: 'page-next' },\n    text: 'Next Page'\n  })\n\n  if (!info.next) {\n    nextPage.style.visibility = 'hidden'\n  }\n  nextPage.onclick = next\n\n  wrapper.appendChild(prevPage)\n  wrapper.appendChild(nextPage)\n\n  root.appendChild(wrapper)\n}\n\nexport function createEl(type, { attrs, text } = {}) {\n  const element = document.createElement(type)\n\n  if (attrs) {\n    Object.entries(attrs).forEach(([name, value]) =>\n      element.setAttribute(name, value)\n    )\n  }\n\n  if (text) {\n    element.innerText = text\n  }\n\n  return element\n}\n","import { getAllCharacters, getCharacter } from './api'\nimport { renderCharacter, renderNavigation } from './render'\n\nconst root = document.getElementById('app')\n\nconst url = new URL(window.location.href)\nconst [category, page] = url.pathname.substring(1).split('/')\n\nlet initialPage = 1\nif (category === 'list' && page) {\n  initialPage = +page\n}\n\nfunction rerenderUI(initialPage) {\n  renderList(initialPage)\n  history.pushState({}, null, `/list/${initialPage}`)\n}\n\nfunction renderList(initialPage) {\n  getAllCharacters(initialPage)\n    .then(({ info, results }) => {\n      root.innerHTML = ''\n      renderNavigation(\n        root,\n        page,\n        info,\n        () => rerenderUI(--initialPage),\n        () => rerenderUI(++initialPage)\n      )\n      console.log('response', { info, results })\n      results.forEach((character) =>\n        renderCharacter(root, character, (id, target) => {\n          getCharacter(id).then((el) => console.log(el))\n          target.style.background = 'red'\n          console.log(target)\n          target.setAttribute('data-state', 'open')\n        })\n      )\n    })\n    .catch((err) => console.error(err))\n}\n\nrenderList(initialPage)\n"]}